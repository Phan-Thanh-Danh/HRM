@model IEnumerable<HRM.ViewModels.Salary.SalaryFormulaVM>

@{
      ViewData["Title"] = "Cấu hình công thức lương";
}

<div class="d-flex justify-content-between align-items-center mb-4">
      <h1><i class="bi bi-calculator"></i> @ViewData["Title"]</h1>
      <a asp-action="CreateFormula" class="btn btn-primary"><i class="bi bi-plus-lg"></i> Thêm công thức mới</a>
</div>

<div class="card shadow-sm">
      <div class="card-body">
            <div class="table-responsive">
                  <table class="table table-hover align-middle">
                        <thead class="table-light">
                              <tr>
                                    <th>Thành phần lương</th>
                                    <th>Cố định</th>
                                    <th>Công thức tính</th>
                                    <th>Mô tả</th>
                              </tr>
                        </thead>
                        <tbody>
                              @if (Model != null && Model.Any())
                              {
                                    foreach (var item in Model)
                                    {
                                          <tr>
                                                <td class="fw-bold">@item.SalaryComponentName</td>
                                                <td>
                                                      @if (item.IsFixed)
                                                      {
                                                            <span class="badge bg-info">Cố định</span>
                                                      }
                                                      else
                                                      {
                                                            <span class="badge bg-warning text-dark">Theo công thức</span>
                                                      }
                                                </td>
                                                <td><code>@item.FormulaExpression</code></td>
                                                <td>@item.Description</td>
                                          </tr>
                                    }
                              }
                              else
                              {
                                    <tr>
                                          <td colspan="4" class="text-center py-4 text-muted">Chưa có công thức nào được cấu
                                                hình.</td>
                                          </tr>
                                    }
                              </tbody>
                        </table>
                  </div>
            </div>
      </div>

      <div class="mt-3">
            <a asp-action="Index" class="btn btn-secondary">Quay lại Kỳ tính lương</a>
      </div>